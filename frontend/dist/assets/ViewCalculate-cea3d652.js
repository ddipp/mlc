import{d as m,b as f,e as r,o as v,c as g,a as t,f as c,w as b,v as h,u as i,t as d,g as $,F as w,h as j}from"./index-f90bdceb.js";const x=m("distance",{state:()=>({job_id:"",job_status:"",job_poolinterval:"",la_a:"",lo_a:"",la_b:"",lo_b:"",distance:"",arc_distance:"",az_a_b:"",az_b_a:"",p_a_elevation:"",p_b_elevation:"",changed:!1}),actions:{async get_job_status(){try{const l=await f.get(`/distance_check/${this.job_id}`);this.job_status=l.data.job_status,this.changed=!0,this.job_status==="finished"&&(clearInterval(this.job_poolinterval),this.distance=l.data.distance,this.arc_distance=l.data.arc_distance,this.az_a_b=l.data.az_a_b,this.az_b_a=l.data.az_b_a,this.p_a_elevation=l.data.p_a_elevation,this.p_b_elevation=l.data.p_b_elevation)}catch(l){alert(l)}},async calculate(){this.distance="",this.arc_distance="",this.az_a_b="",this.az_b_a="",this.p_a_elevation="",this.p_b_elevation="";const l=parseFloat(this.la_a),a=parseFloat(this.lo_a),_=parseFloat(this.la_b),u=parseFloat(this.lo_b);try{const e=await f.get(`/distance_add_task/${l}/${a}/${_}/${u}`);this.job_id=e.data.job_id,this.job_status=e.data.job_status,this.changed=!0,this.job_status!=="finished"?(this.job_poolinterval=setInterval(()=>{this.get_job_status()},1e3),setTimeout(()=>{clearInterval(this.job_poolinterval)},6e4)):(this.distance=e.data.distance,this.arc_distance=e.data.arc_distance,this.az_a_b=e.data.az_a_b,this.az_b_a=e.data.az_b_a,this.p_a_elevation=e.data.p_a_elevation,this.p_b_elevation=e.data.p_b_elevation)}catch(e){alert(e)}}}}),z=t("h3",null,"Find distance and bearing between two points",-1),L=t("legend",null,"Point A",-1),P={class:"grid"},V={for:"la_a"},k={for:"lo_a"},y=t("legend",null,"Point B",-1),F={class:"grid"},C={for:"la_b"},A={for:"lo_b"},B={key:0,class:"answer"},D={__name:"ComponentDistance",setup(l){const a=x(),_=r({get(){return a.la_a},set(o){a.la_a=o,a.changed=!1}}),u=r({get(){return a.la_b},set(o){a.la_b=o,a.changed=!1}}),e=r({get(){return a.lo_a},set(o){a.lo_a=o,a.changed=!1}}),p=r({get(){return a.lo_b},set(o){a.lo_b=o,a.changed=!1}});return(o,s)=>(v(),g(w,null,[z,t("fieldset",null,[L,t("div",P,[t("label",V,[c(" Latitude "),b(t("input",{id:"la_a","onUpdate:modelValue":s[0]||(s[0]=n=>_.value=n),placeholder:"Latitude"},null,512),[[h,_.value]])]),t("label",k,[c(" Longitude "),b(t("input",{id:"lo_a","onUpdate:modelValue":s[1]||(s[1]=n=>e.value=n),placeholder:"Longitude"},null,512),[[h,e.value]])])])]),t("fieldset",null,[y,t("div",F,[t("label",C,[c(" Latitude "),b(t("input",{id:"la_b","onUpdate:modelValue":s[2]||(s[2]=n=>u.value=n),placeholder:"Latitude"},null,512),[[h,u.value]])]),t("label",A,[c(" Longitude "),b(t("input",{id:"lo_b","onUpdate:modelValue":s[3]||(s[3]=n=>p.value=n),placeholder:"Longitude"},null,512),[[h,p.value]])])])]),t("button",{onClick:s[4]||(s[4]=n=>i(a).calculate())},"Calculate"),i(a).changed?(v(),g("div",B,[t("fieldset",null,[t("ul",null,[t("li",null,"Distance between two points in kilometers in a straight line "+d(i(a).distance),1),t("li",null,"Distance between two points in kilometers on the surface of the planet "+d(i(a).arc_distance),1),t("li",null,"Cource from Point A to Point B "+d(i(a).az_a_b)+"째",1),t("li",null,"Cource from Point B to Point A "+d(i(a).az_b_a)+"째",1),t("li",null,"Point A. Altitude "+d(i(a).p_a_elevation)+" m",1),t("li",null,"Point B. Altitude "+d(i(a).p_b_elevation)+" m",1)])])])):$("",!0)],64))}},U=m("nextpoint",{state:()=>({job_id:"",job_status:"",job_poolinterval:"",la_a:"",lo_a:"",la_b:"",lo_b:"",dis:"",bea:"",p_a_elevation:"",p_b_elevation:"",changed:!1}),actions:{async get_job_status(){try{const l=await f.get(`/nextpoint_check/${this.job_id}`);this.job_status=l.data.job_status,this.changed=!0,this.job_status==="finished"&&(clearInterval(this.job_poolinterval),this.la_b=l.data.latitude_b,this.lo_b=l.data.longitude_b,this.p_a_elevation=l.data.p_a_elevation,this.p_b_elevation=l.data.p_b_elevation)}catch(l){alert(l)}},async calculate(){this.la_b="",this.lo_b="",this.p_a_elevation="",this.p_b_elevation="";const l=parseFloat(this.la_a),a=parseFloat(this.lo_a),_=parseFloat(this.dis),u=parseFloat(this.bea);try{const e=await f.get(`/nextpoint_add_task/${l}/${a}/${_}/${u}`);this.job_id=e.data.job_id,this.job_status=e.data.job_status,this.changed=!0,this.job_status!=="finished"?(this.job_poolinterval=setInterval(()=>{this.get_job_status()},1e3),setTimeout(()=>{clearInterval(this.job_poolinterval)},6e4)):(this.la_b=e.data.latitude_b,this.lo_b=e.data.longitude_b,this.p_a_elevation=e.data.p_a_elevation,this.p_b_elevation=e.data.p_b_elevation)}catch(e){alert(e)}}}}),I=t("h3",null,"Find next point by distance and bearing ",-1),N=t("legend",null,"Point A",-1),S={class:"grid"},T={for:"la_a"},E={for:"lo_a"},M={for:"dis"},q={for:"bea"},G={key:0,class:"answer"},H=t("legend",null,"Point A",-1),J=t("legend",null,"Point B",-1),K={__name:"ComponentNextPoint",setup(l){const a=U(),_=r({get(){return a.la_a},set(o){a.la_a=o,a.changed=!1}}),u=r({get(){return a.lo_a},set(o){a.lo_a=o,a.changed=!1}}),e=r({get(){return a.dis},set(o){a.dis=o,a.changed=!1}}),p=r({get(){return a.bea},set(o){a.bea=o,a.changed=!1}});return(o,s)=>(v(),g(w,null,[I,t("fieldset",null,[N,t("div",S,[t("label",T,[c(" Latitude "),b(t("input",{id:"la_a","onUpdate:modelValue":s[0]||(s[0]=n=>_.value=n),placeholder:"Latitude"},null,512),[[h,_.value]])]),t("label",E,[c(" Longitude "),b(t("input",{id:"lo_a","onUpdate:modelValue":s[1]||(s[1]=n=>u.value=n),placeholder:"Longitude"},null,512),[[h,u.value]])]),t("label",M,[c(" Distance "),b(t("input",{id:"dis","onUpdate:modelValue":s[2]||(s[2]=n=>e.value=n),placeholder:"Distance"},null,512),[[h,e.value]])]),t("label",q,[c(" Bearing (째) "),b(t("input",{id:"bea","onUpdate:modelValue":s[3]||(s[3]=n=>p.value=n),placeholder:"Bearing (째)"},null,512),[[h,p.value]])])])]),t("button",{onClick:s[4]||(s[4]=n=>i(a).calculate())},"Calculate"),i(a).changed?(v(),g("div",G,[t("fieldset",null,[H,t("ul",null,[t("li",null,"Altitude "+d(i(a).p_a_elevation)+" m",1)])]),t("fieldset",null,[J,t("ul",null,[t("li",null,"Latitude "+d(i(a).la_b),1),t("li",null,"Longitude "+d(i(a).lo_b),1),t("li",null,"Altitude "+d(i(a).p_b_elevation)+" m",1)])])])):$("",!0)],64))}},O={class:"grid"},R={__name:"ViewCalculate",setup(l){return document.title="Calculate points",(a,_)=>(v(),g("div",O,[t("div",null,[j(D)]),t("div",null,[j(K)])]))}};export{R as default};
