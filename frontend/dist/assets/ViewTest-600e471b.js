import{d as j,b as _,e as h,o as c,c as d,a as t,f as b,w as p,v as g,u as a,t as u,g as v,F as f,h as m}from"./index-e602cf74.js";const y=j("test",{state:()=>({x:"",y:"",job_id:"",job_status:"",job_result:"",job_poolinterval:"",sum:"",graph:"",changed:!1}),actions:{async get_job_status(){try{const o=await _.get(`/xy_check/${this.job_id}`);this.job_status=o.data.job_status,this.job_result=o.data.job_result,this.changed=!0,console.log("pooling..."),this.job_status==="finished"&&clearInterval(this.job_poolinterval)}catch(o){alert(o)}},async calculate(){const e=parseInt(this.x*1,10),n=parseInt(this.y*1,10);try{const s=await _.get(`/xy/${e}/${n}`);this.job_id=s.data.job_id,this.job_status=s.data.job_status,this.job_result=s.data.job_result,this.changed=!0,this.job_status!=="finished"?(this.job_poolinterval=setInterval(()=>{this.get_job_status()},1e3),console.log(this.job_poolinterval)):console.log("Finish!")}catch(s){alert(s)}}}}),x=t("h3",null,"Find all points and their elevations between the given ones every 10 meters",-1),w=t("legend",null,"Point A",-1),V={class:"grid"},$={for:"x"},k={for:"y"},I={key:0,class:"answer"},T=["src"],B={__name:"ComponentTest",setup(o){const e=y(),n=h({get(){return e.x},set(i){e.x=i,e.changed=!1}}),s=h({get(){return e.y},set(i){e.y=i,e.changed=!1}});return(i,l)=>(c(),d(f,null,[x,t("fieldset",null,[w,t("div",V,[t("label",$,[b(" X "),p(t("input",{id:"x","onUpdate:modelValue":l[0]||(l[0]=r=>n.value=r),placeholder:"X"},null,512),[[g,n.value]])]),t("label",k,[b(" Y "),p(t("input",{id:"y","onUpdate:modelValue":l[1]||(l[1]=r=>s.value=r),placeholder:"Y"},null,512),[[g,s.value]])])])]),t("button",{onClick:l[2]||(l[2]=r=>a(e).calculate())},"Calculate"),a(e).changed?(c(),d("div",I,[t("fieldset",null,[t("ul",null,[t("li",null,"Job ID "+u(a(e).job_id),1),t("li",null,"Job status "+u(a(e).job_status),1),t("li",null,"Job result "+u(a(e).job_result),1),t("li",null,"SUM "+u(a(e).sum),1)])]),t("img",{alt:"Profile PointA to PointB",src:a(e).graph},null,8,T)])):v("",!0)],64))}},C={class:"grid"},N={__name:"ViewTest",setup(o){return document.title="test page",(e,n)=>(c(),d("div",C,[t("div",null,[m(B)])]))}};export{N as default};
